{"ast":null,"code":"import React from'react';import{TextInput}from'../../components/TextInput';import SvgIcons from'../../components/svg';import{SimpleButton}from'../../components/SimpleButton';import{useNavigate}from'react-router-dom';import axios from'axios';import{useFormik}from'formik';import{useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ResetPassword_Two=()=>{const navigate=useNavigate();let formik=useFormik({initialValues:{error:'',success:'',syntaxError:'',newPassword:'',confirmPassword:''}});useEffect(()=>{if(formik.values.syntaxError)formik.setValues({...formik.values,syntaxError:''});},[formik.values.newPassword,formik.values.confirmPassword]);const handleConfirmClick=async()=>{console.log('error');if(formik.values.newPassword!=formik.values.confirmPassword){formik.setValues({...formik.values,syntaxError:'Both Passwords do not match'});return;}try{const resetPasswordData=sessionStorage.getItem('reset-password');let sessionDataObject;if(resetPasswordData){sessionDataObject=JSON.parse(resetPasswordData);}console.log({...sessionDataObject,newPassword:formik.values.newPassword});const response=await axios.post('https://tmf-backend.onrender.com/users/reset-password',{...sessionDataObject,newPassword:formik.values.newPassword});console.log('response',response);if(response.status===200){console.log(response,\"respmnce\");sessionStorage.clear();navigate('/congratulations');}else{formik.setValues({...formik.values,error:'Something went wrong. Please try again.'});}}catch(err){var _err$response,_err$response$data;formik.setValues({...formik.values,error:((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Something went wrong. Please try again.'});}};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[90%] md:w-[480px] border-[1px] border-black flex flex-col items-center mt-20\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[30px] md:text-[38px] font-bold font-poppins py-3\",children:\"TMF\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-[40px] md:text-[48px] font-bold font-roboto \",children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[14px] md:text-[18px]  font-roboto py-3\",children:\"Reset Your Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[90%] md:w-[80%] \",children:/*#__PURE__*/_jsx(TextInput,{label:\"New Password*\",type:\"password\",onChange:e=>{formik.setValues({...formik.values,newPassword:e.target.value});},error:\"\",icon:/*#__PURE__*/_jsx(SvgIcons.Eye,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[90%] md:w-[80%] pb-5\",children:/*#__PURE__*/_jsx(TextInput,{label:\"Confirm Password*\",type:\"password\",onChange:e=>{formik.setValues({...formik.values,confirmPassword:e.target.value});},error:formik.values.syntaxError,icon:/*#__PURE__*/_jsx(SvgIcons.Eye,{})})}),formik.values.error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:formik.values.error}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[90%] md:w-[80%] pb-8\",children:/*#__PURE__*/_jsx(SimpleButton,{text:\"Change Password\",style:\"dark\",onClick:()=>{handleConfirmClick();},disabled:formik.values.newPassword==''||formik.values.confirmPassword==''||formik.values.newPassword!=formik.values.confirmPassword})})]})});};","map":{"version":3,"names":["React","TextInput","SvgIcons","SimpleButton","useNavigate","axios","useFormik","useEffect","jsx","_jsx","jsxs","_jsxs","ResetPassword_Two","navigate","formik","initialValues","error","success","syntaxError","newPassword","confirmPassword","values","setValues","handleConfirmClick","console","log","resetPasswordData","sessionStorage","getItem","sessionDataObject","JSON","parse","response","post","status","clear","err","_err$response","_err$response$data","data","message","className","children","label","type","onChange","e","target","value","icon","Eye","text","style","onClick","disabled"],"sources":["/Users/ammarhussain/Desktop/testingtmf/src/pages/Auth/resetpassword_two.js"],"sourcesContent":["import React from 'react';\nimport { TextInput } from '../../components/TextInput';\nimport SvgIcons from '../../components/svg';\nimport { SimpleButton } from '../../components/SimpleButton';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useFormik } from 'formik';\nimport { useEffect } from 'react';\n\nexport const ResetPassword_Two = () => {\n  const navigate = useNavigate();\n\n  let formik = useFormik({\n    initialValues: {\n      error: '',\n      success: '',\n      syntaxError: '',\n      newPassword: '',\n      confirmPassword: '',\n    },\n  });\n  useEffect(() => {\n    if (formik.values.syntaxError)\n      formik.setValues({ ...formik.values, syntaxError: '' });\n  }, [formik.values.newPassword, formik.values.confirmPassword]);\n\n\n  const handleConfirmClick = async () => {\n    console.log('error');\n    if (formik.values.newPassword != formik.values.confirmPassword) {\n      formik.setValues({\n        ...formik.values,\n        syntaxError: 'Both Passwords do not match',\n      });\n      return;\n    }\n    try {\n      const resetPasswordData = sessionStorage.getItem('reset-password');\n      let sessionDataObject ;\n      if (resetPasswordData) {\n           sessionDataObject = JSON.parse(resetPasswordData);\n      }\n\n      console.log({\n        ...sessionDataObject,\n        newPassword: formik.values.newPassword,\n      })\n      const response = await axios.post(\n        'https://tmf-backend.onrender.com/users/reset-password',\n        {\n          ...sessionDataObject,\n          newPassword: formik.values.newPassword,\n        }\n      );\n\n      console.log('response', response);\n      \n\n      if (response.status === 200) {\n        console.log(response , \"respmnce\");\n        \n        sessionStorage.clear();\n        navigate('/congratulations');\n      } else {\n        formik.setValues({\n          ...formik.values,\n          error: 'Something went wrong. Please try again.',\n        });\n      }\n    } catch (err) {\n      formik.setValues({\n        ...formik.values,\n        error:\n          err.response?.data?.message ||\n          'Something went wrong. Please try again.',\n      });\n    }\n  };\n\n  return (\n    <div className='w-full flex justify-center'>\n      <div className='w-[90%] md:w-[480px] border-[1px] border-black flex flex-col items-center mt-20'>\n        <h2 className='text-[30px] md:text-[38px] font-bold font-poppins py-3'>\n          TMF\n        </h2>\n        <h1 className='text-[40px] md:text-[48px] font-bold font-roboto '>\n          Reset Password\n        </h1>\n        <p className='text-[14px] md:text-[18px]  font-roboto py-3'>\n          Reset Your Password\n        </p>\n\n        <div className='w-[90%] md:w-[80%] '>\n          <TextInput\n            label='New Password*'\n            type='password'\n            onChange={(e) => {\n              formik.setValues({\n                ...formik.values,\n                newPassword: e.target.value,\n              });\n            }}\n            error=''\n            icon={<SvgIcons.Eye />}\n          />\n        </div>\n        <div className='w-[90%] md:w-[80%] pb-5'>\n          <TextInput\n            label='Confirm Password*'\n            type='password'\n            onChange={(e) => {\n              formik.setValues({\n                ...formik.values,\n                confirmPassword: e.target.value,\n              });\n            }}\n            error={formik.values.syntaxError}\n            icon={<SvgIcons.Eye />}\n          />\n        </div>\n        {formik.values.error && (\n          <div className='text-red-500'>{formik.values.error}</div>\n        )}\n\n        <div className='w-[90%] md:w-[80%] pb-8'>\n          <SimpleButton\n            text='Change Password'\n            style='dark'\n            onClick={() => {handleConfirmClick()}}\n            disabled={\n              formik.values.newPassword == '' ||\n              formik.values.confirmPassword == '' ||\n              formik.values.newPassword != formik.values.confirmPassword\n            }\n          />\n        </div>\n\n       \n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}