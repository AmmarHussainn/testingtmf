{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const OTPInput=_ref=>{let{...props}=_ref;const[otp,setOtp]=useState(props.valueArray||['','','','']);const inputRefs=useRef([]);const handleInput=(e,index)=>{const value=e.target.value;if(/^[0-9]{1}$/.test(value)){const newOtp=[...otp];newOtp[index]=value;setOtp(newOtp);props.setOtp(newOtp);// Move focus to the next input field\nif(index<otp.length-1){inputRefs.current[index+1].focus();}}else if(value===''){const newOtp=[...otp];newOtp[index]='';setOtp(newOtp);props.setOtp(newOtp);}};const handleKeyDown=(e,index)=>{if(e.key==='Backspace'||e.key==='Delete'){e.preventDefault();if(otp[index]===''){if(index>0){inputRefs.current[index-1].focus();}}else{const newOtp=[...otp];newOtp[index]='';setOtp(newOtp);props.setOtp(newOtp);}}};const handlePaste=e=>{e.preventDefault();const text=e.clipboardData.getData('text');if(new RegExp(`^[0-9]{${otp.length}}$`).test(text)){const newOtp=text.split('');setOtp(newOtp);inputRefs.current[otp.length-1].focus();}};const handleFocus=index=>{inputRefs.current[index].select();};return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center gap-3\",children:otp.map((_,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-14 h-14 text-center text-2xl font-extrabold text-black border border-black  appearance-none rounded p-4 outline-none focus:bg-white  \",value:otp[index],onChange:e=>handleInput(e,index),onKeyDown:e=>handleKeyDown(e,index),onFocus:()=>handleFocus(index),onPaste:handlePaste,ref:el=>inputRefs.current[index]=el,maxLength:1},index))})});};export default OTPInput;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","OTPInput","_ref","props","otp","setOtp","valueArray","inputRefs","handleInput","e","index","value","target","test","newOtp","length","current","focus","handleKeyDown","key","preventDefault","handlePaste","text","clipboardData","getData","RegExp","split","handleFocus","select","className","children","map","_","type","onChange","onKeyDown","onFocus","onPaste","ref","el","maxLength"],"sources":["/Users/ammarhussain/Desktop/testingtmf/src/components/OTPInput.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst OTPInput = ({ ...props }) => {\n  const [otp, setOtp] = useState(props.valueArray || ['', '', '', '']);\n  const inputRefs = useRef([]);\n\n  const handleInput = (e, index) => {\n    const value = e.target.value;\n    if (/^[0-9]{1}$/.test(value)) {\n      const newOtp = [...otp];\n      newOtp[index] = value;\n      setOtp(newOtp);\n      props.setOtp(newOtp);\n\n      // Move focus to the next input field\n      if (index < otp.length - 1) {\n        inputRefs.current[index + 1].focus();\n      }\n    } else if (value === '') {\n      const newOtp = [...otp];\n      newOtp[index] = '';\n      setOtp(newOtp);\n      props.setOtp(newOtp);\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' || e.key === 'Delete') {\n      e.preventDefault();\n      if (otp[index] === '') {\n        if (index > 0) {\n          inputRefs.current[index - 1].focus();\n        }\n      } else {\n        const newOtp = [...otp];\n        newOtp[index] = '';\n        setOtp(newOtp);\n        props.setOtp(newOtp);\n      }\n    }\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    const text = e.clipboardData.getData('text');\n    if (new RegExp(`^[0-9]{${otp.length}}$`).test(text)) {\n      const newOtp = text.split('');\n      setOtp(newOtp);\n      inputRefs.current[otp.length - 1].focus();\n    }\n  };\n\n  const handleFocus = (index) => {\n    inputRefs.current[index].select();\n  };\n\n  return (\n    <div className=''>\n      <div className='flex items-center justify-center gap-3'>\n        {otp.map((_, index) => (\n          <input\n            key={index}\n            type='text'\n            className='w-14 h-14 text-center text-2xl font-extrabold text-black border border-black  appearance-none rounded p-4 outline-none focus:bg-white  '\n            value={otp[index]}\n            onChange={(e) => handleInput(e, index)}\n            onKeyDown={(e) => handleKeyDown(e, index)}\n            onFocus={() => handleFocus(index)}\n            onPaste={handlePaste}\n            ref={(el) => (inputRefs.current[index] = el)}\n            maxLength={1}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default OTPInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}